<!DOCTYPE html>
<html lang="en">

  <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>
    
      Blog &middot; Matthew Yang
    
  </title>

  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,700,400italic|Source+Code+Pro:400,700" type="text/css">
  <link rel="stylesheet" href="/css/font-awesome.min.css" type="text/css">
  <link rel="stylesheet" href="/css/style.css" type="text/css">

  <link rel="icon" type="image/png" sizes="192x192" href="/favicon.png">
  <link rel="shortcut icon" href="/favicon.ico">
  <link rel="apple-touch-icon-precomposed" sizes="152x152" href="/apple-touch-icon.png">
  
  <link rel="alternate" type="application/atom+xml" title="Matthew Yang" href="/atom.xml">
</head>


  <body>
    <nav class="nav-main">
      <ul>
        <li class="hvr-underline-reveal"><a href="/">home</a></li>
        <li class="hvr-underline-reveal"><a href="/work/">work</a></li>
        <li class="hvr-underline-reveal"><a href="/blog/">blog</a></li>
        <li class="hvr-underline-reveal"><a href="/archive/">archive</a></li>
      </ul>
    </nav>

    <div class="container content">
      <main>
        <div class="posts">
  
  <article class="post">
    <h1 class="post-title">
      <a href="/blog/2023/01/16/New-site/">
        2023 Website refresh
      </a>
    </h1>

    <time datetime="2023-01-16T00:00:00-05:00" class="post-date">16 Jan 2023</time>

    
      <p>Hello</p>

<p>The site has undergone a noticeable refresh to reflect my renewed commitment towards writing about my work and learnings gained from my M.A.</p>

    
  </article>
  
  <article class="post">
    <h1 class="post-title">
      <a href="/blog/network/renovation/2021/01/31/Home-Network-Part-III/">
        Ubiquiti Home Network Part&#58; III
      </a>
    </h1>

    <time datetime="2021-01-31T00:00:00-05:00" class="post-date">31 Jan 2021</time>

    
      <p>Today marks another major milestone for the Ubiquiti home network with the Fibre Termination Point (TP) finally installed! The OpenNet technicians decided to come two days before our scheduled appointment, but I was more than happy to accommodate to their request. I decided to relocate the TP from the living room to the service balcony to have it close to the network rack. Most households typically have the TP close to the TV consoles as it is common to use the router-modem provided by the ISPs, whom typically are the internet TV providers as well. The relocation involved drilling a new hole from the electrical riser into the kitchen to have a short run of cable straight to the desired location. I was initially quite nervous about the drilling as I didn’t want to puncture any pipes, but thankfully it went fine. All of the work was completed within 40 minutes but I was surprised that the task required a team of five men!</p>

<p><img src="http://localhost:4000/assets/originals/Network_II/open_net_1.jpg" alt="OpenNet setup" /></p>

<p><img src="http://localhost:4000/assets/originals/Network_II/open_net_2.jpg" alt="OpenNet setup" /></p>

<p><img src="http://localhost:4000/assets/originals/Network_II/open_net_3.jpg" alt="OpenNet setup" /></p>

<p><img src="http://localhost:4000/assets/originals/Network_II/open_net_4.jpg" alt="OpenNet setup" /></p>

    
  </article>
  
  <article class="post">
    <h1 class="post-title">
      <a href="/blog/network/renovation/2021/01/20/Home-Network-Part-II/">
        Ubiquiti Home Network Part&#58; II
      </a>
    </h1>

    <time datetime="2021-01-20T00:00:00-05:00" class="post-date">20 Jan 2021</time>

    
      <p>This post is all about setting up my Ubiquiti home network and will serve as a personal resource/journal for the various devices.</p>

<h2 id="setting-up-the-edgerouter-x-er-x-router">Setting up the EdgeRouter X (ER-X) Router</h2>

<p>1) Connect computer to the Eth 0 port on the ER-X</p>

<p>2) Open the network settings on your PC and set the IP address to 192.168.1.2 since the IP address of the ER-X is 192.168.1.1 (also the default gateway)</p>

<p>Subnet mask: 255.255.255.0</p>

<p>3) Log into EdgeMax Web GUI. usr: ‘ubnt’ pwd: ‘ubnt’</p>

<p>4) Commence basic set-up</p>

<p>5)  Settings</p>

<p>Port: eth 0
Internet connection type: DHCP
Firewall: enable the default Firewall
One Lan: <em>check</em></p>

<p>Leave default address and enable DHCP server</p>

<p>Create a new user with a new password</p>

<p>6) Apply changes and reboot the router</p>

<p>7) Plug modem into eth 0 and move client connection to eth 1</p>

<p>8) Change IP and DNS settings to automatic on the client</p>

<p>9) ‘ipconfig /release’ to release the old IP address. ‘ipconfig /renew’ to get a new IP address</p>

<p>10) Log back into the EdgeMax Web GUI.</p>

<p>11) Bring up the CLI on the GUI. Log in with the credentials</p>

<p>12) type ‘configure’</p>

<p>13) set ‘system offload hwnat enable’</p>

<p>14) set ‘system system offload ipsec enable’</p>

<p>15) type ‘commit’ and ‘save’.</p>

<p>Credit to Toasty Answers for the easy to follow set-up.</p>

<p><a href="https://www.youtube.com/watch?v=aECPxlT6Qq4" target="_ blank">Toasty Answers - EdgeRouter X First Time Setup</a></p>

<p><strong>Updating the ER-X</strong></p>

<p>1) Download the latest firmware from Ubiquiti.</p>

<p>2) Access the EdgeMax Web GUI and click on system and head to upgrade system image. Click ‘upload a file’.</p>

<p>3) Upload the image and reboot and let it apply the update.</p>

<p>4) Log in again and the new version should be reflected on the dashboard.</p>

<p><strong>Other functions</strong></p>

<p><em>Smart Queue</em></p>

<p><em>UPnP</em></p>

<h2 id="additional-resources">Additional resources</h2>

<ul>
  <li>‘Gamer Setup’ for the ER-X</li>
</ul>

<p><a href="https://www.youtube.com/watch?v=o-g2P3R84dw" target="_blank">Gamer Setup - This router can save your marriage!</a></p>

<ul>
  <li>The Ubiquiti Universe</li>
</ul>

<p><a href="https://www.youtube.com/watch?v=-6q-4lSBfmA" target="_blank">Poseidwn Tech - Initial UniFi Setup for Beginners</a></p>

<ul>
  <li>Unifi Cloud Key Gen2 Plus (UCK-G2-PLUS)</li>
</ul>

<p><a href="https://www.youtube.com/watch?v=H_a1BCf1jH0" target="_ blank">Crosstalk Solutions - Cloud Key Gen2 Plus</a></p>

<ul>
  <li>Unifi US-16-150W</li>
</ul>

<p><a href="https://www.youtube.com/watch?v=0_wXI5minS0" target="_blank">Tom Morgan - Ubiquiti UniFi Switch 16 150W setup</a></p>

    
  </article>
  
  <article class="post">
    <h1 class="post-title">
      <a href="/blog/digipres/basics/2021/01/15/Digital-File/">
        The anatomy of a digital file
      </a>
    </h1>

    <time datetime="2021-01-15T00:00:00-05:00" class="post-date">15 Jan 2021</time>

    
      <p>I’ve always wondered what makes up a digital file and <a href="https://twobitpreservation.com/" target="_ blank">Nicole Martin</a> has wonderfully written a detailed post about the zeros and ones that make up a digital file.</p>

<p>I’ll briefly lay out the keys points from the post.</p>

<h2 id="what-makes-a-digital-file">What makes a ‘digital’ file?</h2>

<p>A digital file comprises of bits (zeros and ones) or plain text that contain crucial information that allows the computer/software to interpret/manipulate/process/encode/decode it into human-understandable information. The digital file may represent various types of information such as text, images and audio.</p>

<p>Programs can read plain text data without the aid of file signatures or headers (described below). Common types of plain text data include .txt and .html files. This has wide application as it is high compatible with most computer systems and software.</p>

<p>Binary data (zeros and ones) can represent more complex information and is read by computer programs in a linear data ‘stream’ or sequence of bytes. The program is required to decode the information block by block as per instructed by the file’s signature and header.</p>

<p><strong>Useful info</strong></p>

<p>Eight bits = 1 Byte</p>

<p>A set of 512 bytes is one ‘sector’ and ‘sectors’ may be grouped into ‘blocks’.</p>

<h2 id="parts-of-a-file">Parts of a file</h2>

<ul>
  <li>File signature</li>
</ul>

<p>It consists of a short section of code that defines the files format.</p>

<ul>
  <li>File Header</li>
</ul>

<p>A sequence of data that instructs on how to interpret the information. Machines and software will follow the instructions in the header to process/interpete the data it contains.</p>

<ul>
  <li>File Body</li>
</ul>

<p>The main bulk of information that allows the machine/program to render the file into human-understandable information. It can be stored as plain text or binary data.</p>

<ul>
  <li>End</li>
</ul>

<p>The last section of code that signals the end of the package.</p>

<p><img src="http://localhost:4000/assets/originals/Digital_File/Anatomy.jpg" alt="Folder Structure" /></p>

    
  </article>
  
  <article class="post">
    <h1 class="post-title">
      <a href="/blog/ffmpeg/2020/11/13/Play-Scans/">
        Managing film scans with FFmpeg
      </a>
    </h1>

    <time datetime="2020-11-13T00:00:00-05:00" class="post-date">13 Nov 2020</time>

    
      <p>I have been trying to figure the best way to play and manage film scans and learned a bag of new tricks from <a href="https://reto.ch/" target="_ blank">reto.ch</a>!</p>

<h2 id="playing-a-dpx-sequence">Playing a DPX sequence</h2>

<figure class="highlight"><pre><code class="language-css" data-lang="css"><span class="nt">ffplay</span> <span class="o">[</span><span class="nt">DIRECTORY</span><span class="o">]/</span><span class="nt">Scan_</span><span class="o">%</span><span class="err">06</span><span class="nt">d</span><span class="nc">.tif</span></code></pre></figure>

<p>The regex %06d matches six digits long numbers, possibly with leading zeroes. This allows to read in ascending order, one image after the other,the full sequence inside one folder. Of course, the command must match the naming convention actually used.</p>

<h2 id="make-a-prores-file-from-the-scan-sequence">Make a ProRes file from the scan sequence</h2>

<figure class="highlight"><pre><code class="language-css" data-lang="css"><span class="nt">ffmpeg</span>
    <span class="nt">-f</span> <span class="nt">image2</span> <span class="err">\</span>
    <span class="nt">-framerate</span> <span class="err">24</span> <span class="err">\</span>
    <span class="nt">-i</span> <span class="o">[</span><span class="nt">DIRECTORY</span><span class="o">]/</span><span class="nt">Scan_</span><span class="o">%</span><span class="err">06</span><span class="nt">d</span><span class="nc">.tif</span> <span class="err">\</span>
    <span class="nt">-c</span><span class="nd">:v</span> <span class="nt">prores_ks</span> <span class="err">\</span>
    <span class="nt">-profile</span><span class="nd">:v</span> <span class="err">3</span> <span class="err">\</span>
    <span class="nt">-filter</span><span class="nd">:v</span> <span class="s1">"scale=1440:1080:flags=lanczos, pad=1920:1080:240:0"</span> <span class="err">\</span>
    <span class="nt">ProRes</span><span class="nc">.mov</span></code></pre></figure>

<ul>
  <li>-f image2 forces the image file de-muxer for single image files</li>
  <li>-framerate sets the frame rate to 24
NOTE: The previous two parameters must be before the input file, because they are applied to the input file.</li>
  <li>-i path, name and extension of the input file
The regex %06d matches six digits long numbers, possibly with
leading zeroes. This allows to read in ascending order, one
image after the other, the full sequence inside one folder.
The command must of course match the naming convention
actually used.
-c:v chooses the ProRes video codec
-profile:v the flavour ProRes 422 HQ has the video profile 3
-filter:v filters the video stream:
    <ul>
      <li>scaling to the correct size
[we use the Lanczos scaling algorithm which is slower but
better than the default bilinear algorithm]</li>
      <li>padding the 4:3 format into the 16:9 HD format with pillar box</li>
    </ul>
  </li>
</ul>

<h2 id="make-a-h264-file-from-the-scan-sequence">Make a H264 file from the scan sequence</h2>

<figure class="highlight"><pre><code class="language-css" data-lang="css"><span class="nt">ffmpeg</span> <span class="err">\</span>
    <span class="nt">-f</span> <span class="nt">image2</span> <span class="err">\</span>
    <span class="nt">-framerate</span> <span class="err">24</span> <span class="err">\</span>
    <span class="nt">-i</span> <span class="nt">DUFAY_TIFF</span><span class="o">/</span><span class="nt">Dufay_</span><span class="o">%</span><span class="err">06</span><span class="nt">d</span><span class="nc">.tif</span> <span class="err">\</span>
    <span class="nt">-c</span><span class="nd">:v</span> <span class="nt">libx264</span> <span class="err">\</span>
    <span class="nt">-preset</span> <span class="nt">veryslow</span> <span class="err">\</span>
    <span class="nt">-qp</span> <span class="err">18</span> <span class="err">\</span>
    <span class="nt">-filter</span><span class="nd">:v</span> <span class="s1">"scale=1440:1080:flags=lanczos, pad=1920:1080:240:0"</span> <span class="err">\</span>
    <span class="nt">-pix_fmt</span> <span class="nt">yuv420p</span> <span class="err">\</span>
    <span class="nt">Scan_H264_1</span><span class="nc">.mp4</span></code></pre></figure>

<p>Make an access file H.264 directly form the conservation files TIFF.
-c:v chooses the H.264 codec by using the libx264 library
-preset chooses the very slow preset which gives the best result
-qp a quantisation parameter of 18 means “visually lossless”</p>

<h2 id="make-a-h264-file-from-the-prores-file">Make a H264 file from the ProRes file</h2>

<figure class="highlight"><pre><code class="language-css" data-lang="css"><span class="nt">ffmpeg</span> <span class="err">\</span>
    <span class="nt">-i</span> <span class="nt">ProRes</span><span class="nc">.mov</span> <span class="err">\</span>
    <span class="nt">-c</span><span class="nd">:v</span> <span class="nt">libx264</span> <span class="err">\</span>
    <span class="nt">-preset</span> <span class="nt">veryslow</span> <span class="err">\</span>
    <span class="nt">-qp</span> <span class="err">18</span> <span class="err">\</span>
    <span class="nt">-pix_fmt</span> <span class="nt">yuv420p</span> <span class="err">\</span>
    <span class="nt">-an</span> <span class="err">\</span>
    <span class="nt">Scan_H264_2</span><span class="nc">.mp4</span></code></pre></figure>

<p>-an prevents an empty audio track ([a]udio [n]o)</p>

    
  </article>
  
</div>

<div class="pagination">
  
    <a class="pagination-item" href="/blog/2">
      <i class="fa fa-arrow-circle-o-left"></i> 
      <span class="pagination-text">older posts</span>
    </a>
  

  <!-- <a class="pagination-item" href="#">archive</a> -->

  
    <span class="pagination-item">
      <span class="pagination-text">newer posts</span> 
      <i class="fa fa-arrow-circle-o-right"></i>
    </span>
  
</div>

      </main>

      <footer class="footer">
        <small>
            <span class="copyright"><i class="fa fa-copyright"></i><time datetime="2023-01-16T20:16:47-05:00">2023</time> Matthew Yang</span> &middot;
            <span>Powered by <a href="http://jekyllrb.com/" target="_blank" rel="noopener noreferrer">Jekyll</a></span>
            <span>and <a href="https://pages.github.com/" target="_blank" rel="noopener noreferrer">GitHub Pages</a></span>
        </small>
        <div class="ftr-links">
          <a class="social-link-item" target="_blank" href="mailto:matthewyangjiefeng@gmail.com?subject=Hello!">
          <a href="mailto:matthewyang@nyu.edu?subject=Hello!" target="_blank" rel="noopener noreferrer"><i class="fa fa-envelope"></i></a>
          <a href="https://github.com/muthusalami" target="_blank" rel="noopener noreferrer"><i class="fa fa-github"></i></a>
          <a href="https://www.linkedin.com/in/matthewyang-sg/" target="_blank" rel="noopener noreferrer"><i class="fa fa-linkedin"></i></a>
          <a href="https://twitter.com/muthusalami" target="_blank" rel="noopener noreferrer"><i class="fa fa-twitter"></i></a>
          
        </div>
      </footer>
    </div>

  </body>
</html>
